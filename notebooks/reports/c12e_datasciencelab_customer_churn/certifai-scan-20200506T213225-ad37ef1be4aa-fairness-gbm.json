{
    "scan": {
        "scan_id": "ad37ef1be4aa",
        "evaluation_type": "fairness",
        "started": "2020-05-06T21:23:52",
        "ended": "2020-05-06T21:25:16",
        "name": "Baseline evaluation of 4 models",
        "description": "This evaluation compares the robustness, accuracy, fairness and explanations for 4 candidate models."
    },
    "model_use_case": {
        "name": "Banking: Predicting Customer Churn",
        "model_use_case_id": "c12e/datasciencelab/customer_churn",
        "performance_metrics": [
            {
                "metric": "Accuracy",
                "name": "Accuracy"
            }
        ],
        "atx_performance_metric_name": "Accuracy",
        "task_type": "binary-classification",
        "description": "In this use case, each entry in the dataset represents a customer or previous customer of the bank. The learning task is to predict who is likely to quit as a customer.\n\nThis dataset was sourced from Kaggle: https://www.kaggle.com/adammaus/predicting-churn-for-bank-customers\n",
        "author": "info@cognitivescale.com"
    },
    "model": {
        "model_id": "gbm",
        "name": "Gradient Boosting Classifier",
        "predict_endpoint": "http://127.0.0.1:5111/customer_churn_gbm/predict",
        "performance_metric_values": [
            {
                "value": 0.8668,
                "name": "Accuracy"
            }
        ],
        "description": "Scikit-learn GradientBoostingClassifier using logistic regression (deviance)"
    },
    "dataset": {
        "dataset_id": "eval",
        "url": "file:../datasets/customer_churn_eval.csv",
        "checksum_type": "md5",
        "checksum": "f7942bd8e6f749c7ec88968e90545e4b",
        "num_features": 11,
        "rows": 1000,
        "name": "Evaluation dataset",
        "description": "1000 row representative sample of the full dataset"
    },
    "dataset_schema": {
        "outcome_column": "Exited",
        "feature_schemas": [
            {
                "type": "INT",
                "min": 359,
                "max": 850,
                "spread": 67.5,
                "spread_type": "mad",
                "heuristically_inferred": true,
                "name": "CreditScore",
                "index": 0
            },
            {
                "type": "CAT",
                "category_values": [
                    "Geography_France",
                    "Geography_Germany",
                    "Geography_Spain"
                ],
                "name": "Geography",
                "index": 1
            },
            {
                "type": "CAT",
                "category_values": [
                    "Gender_Female",
                    "Gender_Male"
                ],
                "name": "Gender",
                "index": 2
            },
            {
                "type": "INT",
                "min": 18,
                "max": 78,
                "spread": 6.0,
                "spread_type": "mad",
                "heuristically_inferred": true,
                "name": "Age",
                "index": 3
            },
            {
                "type": "INT",
                "min": 0,
                "max": 10,
                "spread": 3.0,
                "spread_type": "mad",
                "heuristically_inferred": true,
                "name": "Tenure",
                "index": 4
            },
            {
                "type": "FLOAT",
                "min": 0.0,
                "max": 222267.63,
                "spread": 42254.30500000001,
                "spread_type": "mad",
                "name": "Balance",
                "index": 5
            },
            {
                "type": "CAT",
                "category_values": [
                    1,
                    2,
                    3,
                    4
                ],
                "heuristically_inferred": true,
                "name": "NumOfProducts",
                "index": 6
            },
            {
                "type": "CAT",
                "category_values": [
                    "HasCrCard_No",
                    "HasCrCard_Yes"
                ],
                "name": "HasCrCard",
                "index": 7
            },
            {
                "type": "CAT",
                "category_values": [
                    "IsActiveMember_No",
                    "IsActiveMember_Yes"
                ],
                "name": "IsActiveMember",
                "index": 8
            },
            {
                "type": "FLOAT",
                "min": 178.19,
                "max": 199805.63,
                "spread": 47353.605,
                "spread_type": "mad",
                "name": "EstimatedSalary",
                "index": 9
            },
            {
                "type": "CAT",
                "category_values": [
                    0,
                    1
                ],
                "heuristically_inferred": true,
                "name": "Exited",
                "index": 10
            }
        ]
    },
    "status": "Completed",
    "engine_stats": {
        "num_predict_calls": 2069,
        "mean_prediction_time_ms": 31.53234896085065,
        "mean_batch_size": 1742.2160463992266,
        "num_counterfactuals": 1000,
        "mean_generation_count": 1.929,
        "hyperparameters": {
            "tournsize": 3,
            "population": 4000,
            "indpb": 0.05,
            "CXPB": 0.5,
            "MUTPB": 0.2,
            "generation": 180,
            "evolution": 100,
            "N_CYCLES": 1,
            "early_stopping_delta": 0.0001,
            "early_stopping_epochs": 3,
            "percent_class_seeding": 5,
            "sampling_Z": 1.96,
            "sampling_boundary": 0.1,
            "sampling_min_n": 100,
            "2pt_orig_weight": 0.025,
            "shrinkage_weight": 0.5,
            "annealing_weight": 0.45,
            "annealing_rate": 1.25,
            "elitism": 0.04,
            "dimensional_normalization": true,
            "num_counterfactuals": 1,
            "shap_init_with_eval": true,
            "shap_num_samples": 500
        },
        "runtime_secs": 72.39027881622314,
        "per cf mean GA init count": 0.14,
        "per cf mean GA init time": 28.98855599999999,
        "per cf mean GA mutation time": 14.21078899999999,
        "per cf mean GA crossover time": 16.267311,
        "per cf mean GA selection time": 36.116279000000006,
        "per cf mean eval time": 79.48009199999998,
        "per cf mean prediction time": 65.24043,
        "per cf mean diversity selection time": 0.0
    },
    "detailed_scores": {
        "CERScore": 0.6853065343827568,
        "NCERScore": 0.06823212907451705,
        "Normalization": 10.043751289576882,
        "details": [
            {
                "feature": "Gender",
                "groups": [
                    {
                        "label": "Gender_Female",
                        "value": 0.033264298248988126,
                        "value_confidence_95_lower": 0.026228052979800517,
                        "value_confidence_95_upper": 0.04296753297777478,
                        "values": [
                            0.033264298248988126
                        ],
                        "values_confidence_95_lower": [
                            0.026228052979800517
                        ],
                        "values_confidence_95_upper": [
                            0.04296753297777478
                        ],
                        "values_names": [
                            "burden"
                        ]
                    },
                    {
                        "label": "Gender_Male",
                        "value": 0.018995191483864044,
                        "value_confidence_95_lower": 0.014260875617192583,
                        "value_confidence_95_upper": 0.02640573523094617,
                        "values": [
                            0.018995191483864044
                        ],
                        "values_confidence_95_lower": [
                            0.014260875617192583
                        ],
                        "values_confidence_95_upper": [
                            0.02640573523094617
                        ],
                        "values_names": [
                            "burden"
                        ]
                    }
                ]
            },
            {
                "feature": "Age",
                "groups": [
                    {
                        "label": "<= 40 years old",
                        "value": 0.004146572562338205,
                        "value_confidence_95_lower": 0.002151962526056732,
                        "value_confidence_95_upper": 0.006765359142613597,
                        "values": [
                            0.004146572562338205
                        ],
                        "values_confidence_95_lower": [
                            0.002151962526056732
                        ],
                        "values_confidence_95_upper": [
                            0.006765359142613597
                        ],
                        "values_names": [
                            "burden"
                        ]
                    },
                    {
                        "label": "> 40 years old",
                        "value": 0.061935609396663587,
                        "value_confidence_95_lower": 0.050888994208369315,
                        "value_confidence_95_upper": 0.0775722769225115,
                        "values": [
                            0.061935609396663587
                        ],
                        "values_confidence_95_lower": [
                            0.050888994208369315
                        ],
                        "values_confidence_95_upper": [
                            0.0775722769225115
                        ],
                        "values_names": [
                            "burden"
                        ]
                    }
                ]
            }
        ],
        "feature_fairness": [
            {
                "feature": "Gender",
                "value": 73.16483608952714,
                "value_confidence_95_lower": 58.35281012971822,
                "value_confidence_95_upper": 88.23574062669131
            },
            {
                "feature": "Age",
                "value": 12.535605629890023,
                "value_confidence_95_lower": 6.793817556245729,
                "value_confidence_95_upper": 19.26635123822791
            }
        ]
    },
    "feature_restrictions": [
        {
            "feature_name": "Age",
            "restriction_string": "no changes"
        },
        {
            "feature_name": "Gender",
            "restriction_string": "no changes"
        },
        {
            "feature_name": "Geography",
            "restriction_string": "no changes"
        }
    ],
    "prediction_description": "Will customer quit?",
    "prediction_favorability": "explicit",
    "prediction_values": [
        {
            "name": "Customer quits",
            "value": 1,
            "favorable": false
        },
        {
            "name": "Customer does not quit",
            "value": 0,
            "favorable": true
        }
    ],
    "fairness": {
        "fairness_grouping_features": [
            {
                "name": "Gender"
            },
            {
                "name": "Age",
                "buckets": [
                    {
                        "description": "<= 40 years old",
                        "max": 40.0
                    },
                    {
                        "description": "> 40 years old"
                    }
                ]
            }
        ],
        "feature_fairness": [
            {
                "feature": "Gender",
                "value": 73.16483608952714,
                "value_confidence_95_lower": 58.35281012971822,
                "value_confidence_95_upper": 88.23574062669131
            },
            {
                "feature": "Age",
                "value": 12.535605629890023,
                "value_confidence_95_lower": 6.793817556245729,
                "value_confidence_95_upper": 19.26635123822791
            }
        ],
        "detailed_fairness": [
            {
                "feature": "Gender",
                "groups": [
                    {
                        "label": "Gender_Female",
                        "value": 0.033264298248988126,
                        "value_confidence_95_lower": 0.026228052979800517,
                        "value_confidence_95_upper": 0.04296753297777478,
                        "values": [
                            0.033264298248988126
                        ],
                        "values_confidence_95_lower": [
                            0.026228052979800517
                        ],
                        "values_confidence_95_upper": [
                            0.04296753297777478
                        ],
                        "values_names": [
                            "burden"
                        ]
                    },
                    {
                        "label": "Gender_Male",
                        "value": 0.018995191483864044,
                        "value_confidence_95_lower": 0.014260875617192583,
                        "value_confidence_95_upper": 0.02640573523094617,
                        "values": [
                            0.018995191483864044
                        ],
                        "values_confidence_95_lower": [
                            0.014260875617192583
                        ],
                        "values_confidence_95_upper": [
                            0.02640573523094617
                        ],
                        "values_names": [
                            "burden"
                        ]
                    }
                ]
            },
            {
                "feature": "Age",
                "groups": [
                    {
                        "label": "<= 40 years old",
                        "value": 0.004146572562338205,
                        "value_confidence_95_lower": 0.002151962526056732,
                        "value_confidence_95_upper": 0.006765359142613597,
                        "values": [
                            0.004146572562338205
                        ],
                        "values_confidence_95_lower": [
                            0.002151962526056732
                        ],
                        "values_confidence_95_upper": [
                            0.006765359142613597
                        ],
                        "values_names": [
                            "burden"
                        ]
                    },
                    {
                        "label": "> 40 years old",
                        "value": 0.061935609396663587,
                        "value_confidence_95_lower": 0.050888994208369315,
                        "value_confidence_95_upper": 0.0775722769225115,
                        "values": [
                            0.061935609396663587
                        ],
                        "values_confidence_95_lower": [
                            0.050888994208369315
                        ],
                        "values_confidence_95_upper": [
                            0.0775722769225115
                        ],
                        "values_names": [
                            "burden"
                        ]
                    }
                ]
            }
        ],
        "score": 12.535605629890023,
        "fairness_metric": "burden",
        "score_confidence_95_lower": 6.793817556245729,
        "score_confidence_95_upper": 19.26635123822791,
        "secondary_scores": []
    }
}